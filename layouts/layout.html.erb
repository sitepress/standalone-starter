<%= render_layout "body" do %>
  <main class="mx-auto grid grid-flow-row auto-rows-max gap-x-20 gap-y-16 m-16 md:gap-y-32 md:m-32 bg-blue-200">
    <header class="md:col-start-2 bg-blue-300">
      <h1 class="text-5xl font-bold"><%= current_page.data["title"] %></h1>
      <% if subtitle = current_page.data["subtitle"] %>
        <h2 class="text-2xl opacity-50"><%= subtitle %></h2>
      <% end %>
    </header>
    <div class="md:sticky md:top-20 bg-blue-300">
      <nav class="flex flex-col space-y-8 h-full">
        <%= partial "partials/menu", title: "Getting Started", glob: "getting-started/*.html*" %>
        <%= partial "partials/menu", title: "Documentation", glob: "basics/*.html*" %>
        <%= partial "partials/menu", title: "Project", glob: "project/*.html*" %>
      </nav>
    </div>
    <article class="prose dark:prose-invert max-w-none prose-pre:max-w-fit max-w-fit">
      <%= yield %>
    </article>
    <footer class="col-span-1 bg-blue-300">
      <%= link_to "/", class: "block" do %>
        <%= image_tag "logo-brown.svg", class: "max-w-[8rem] block dark:hidden" %>
        <%= image_tag "logo-white.svg", class: "max-w-[8rem] hidden dark:block" %>
      <% end %>
      <% PrimaryPage.all.each do |page| %>
        <%= link_to page.title, page.request_path %>
      <% end %>
    </footer>
  </main>
<% end %>
